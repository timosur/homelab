apiVersion: v1
kind: ConfigMap
metadata:
  name: bike-weather-nginx-config
  namespace: bike-weather
data:
  default.conf: |
    server {
        listen 80;
        server_name _;

        # Health check endpoint
        location /nginx-health {
            access_log off;
            return 200 "healthy\n";
            add_header Content-Type text/plain;
        }

        # Placeholder page
        location / {
            default_type text/html;
            return 200 '
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Bike Weather</title>
                <style>
                    * { margin: 0; padding: 0; box-sizing: border-box; }
                    body {
                        min-height: 100vh;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
                        background: linear-gradient(135deg, #065f46 0%, #064e3b 50%, #1c1917 100%);
                        color: #fafaf9;
                    }
                    .container {
                        text-align: center;
                        padding: 2rem;
                        max-width: 480px;
                    }
                    .icon { font-size: 3.5rem; margin-bottom: 1.5rem; }
                    h1 {
                        font-size: 2rem;
                        font-weight: 700;
                        margin-bottom: 0.75rem;
                        letter-spacing: -0.025em;
                    }
                    p {
                        font-size: 1.1rem;
                        color: #d6d3d1;
                        line-height: 1.6;
                    }
                    .badge {
                        display: inline-block;
                        margin-top: 2rem;
                        padding: 0.4rem 1rem;
                        border: 1px solid rgba(250,250,249,0.2);
                        border-radius: 9999px;
                        font-size: 0.85rem;
                        color: #a8a29e;
                    }
                </style>
            </head>
            <body>
                <div class="container">
                    <div class="icon">\F0\9F\9A\B4</div>
                    <h1>Bike Weather</h1>
                    <p>Personalized cycling gear recommendations based on real-time weather. We are building something great.</p>
                    <span class="badge">Coming Soon</span>
                </div>
            </body>
            </html>';
        }
    }
